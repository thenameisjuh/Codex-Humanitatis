<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <title>Codex Humanitatis</title>
    <!-- Bibliotecas de Design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        h1, h2, h3, .font-serif { font-family: 'Playfair Display', serif; }
        .bg-violet-bright { background-color: #9359F0; }
        .text-violet-bright { color: #9359F0; }
        .gradient-hero { background: linear-gradient(135deg, #FFFFFF 0%, #E4DDE4 100%); }
        .loading { opacity: 0.6; cursor: not-allowed; }
    </style>
</head>
<body class="bg-white text-slate-900">

    <!-- Navegação -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-[#E4DDE4]">
        <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div>
                    <img src="logoCodex.jpeg" alt="Logo" width="500">
                </div>
                <h1 class="text-xl font-bold uppercase tracking-tight">Codex<span class="text-violet-bright font-light">Humanitatis</span></h1>
            </div>
            <a href="#contacto" class="px-5 py-2 bg-violet-bright text-white rounded-lg font-bold text-sm hover:opacity-90 transition-all">Contactar</a>
        </div>
    </nav>

    <!-- Hero -->
    <header class="relative pt-20 pb-32 gradient-hero text-center px-4">
        <div class="max-w-4xl mx-auto">
            <span class="inline-block px-4 py-1 mb-6 text-[10px] font-bold tracking-widest text-violet-bright uppercase bg-white rounded-full border border-violet-bright/20">Mestrado em Humanidades Digitais</span>
            <h2 class="text-5xl md:text-7xl font-bold text-slate-900 mb-8 leading-tight">Codificando a Cultura, <br> <span class="text-violet-bright italic">Humanizando os Dados.</span></h2>
            <p class="text-lg text-slate-600 mb-10 leading-relaxed">Website funcional alojado via Google Script para a criação da vossa empresa de consultoria digital.</p>
        </div>
    </header>

    <!-- Formulário de Contacto Funcional -->
    <section id="contacto" class="py-24 bg-[#121212] text-white px-4">
        <div class="max-w-3xl mx-auto text-center">
            <h3 class="text-4xl font-bold mb-4">Vamos Colaborar?</h3>
            <p class="text-slate-400 mb-12">Preencha os dados e receba uma proposta técnica da nossa turma.</p>
            
            <!-- Mensagem de Resposta -->
            <div id="status" class="mb-8 p-4 rounded-xl hidden"></div>

            <form id="myForm" onsubmit="handleFormSubmit(this)" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <input type="text" name="nome" placeholder="Seu Nome" required class="w-full px-6 py-5 bg-[#1E1E1E] border border-[#333333] rounded-2xl focus:outline-none focus:border-violet-bright transition-all text-white outline-none">
                    <input type="email" name="email" placeholder="Seu Email" required class="w-full px-6 py-5 bg-[#1E1E1E] border border-[#333333] rounded-2xl focus:outline-none focus:border-violet-bright transition-all text-white outline-none">
                </div>
                <textarea name="mensagem" placeholder="Descreva o vosso desafio..." rows="5" required class="w-full px-6 py-5 bg-[#1E1E1E] border border-[#333333] rounded-2xl focus:outline-none focus:border-violet-bright transition-all text-white outline-none resize-none"></textarea>
                <button type="submit" id="submitBtn" class="w-full py-5 bg-violet-bright text-white font-bold rounded-2xl shadow-xl hover:scale-[1.01] active:scale-95 transition-all flex items-center justify-center gap-2">
                    Enviar para a Turma <i data-lucide="send" class="w-5 h-5"></i>
                </button>
            </form>
        </div>
    </section>

    <footer class="py-12 bg-white text-center border-t border-[#E4DDE4]">
        <p class="text-[10px] tracking-widest uppercase text-slate-400">©️ 2024 Codex Humanitatis • Mestrado em HD</p>
    </footer>

    <script>
        lucide.createIcons();

        function handleFormSubmit(form) {
            const btn = document.getElementById('submitBtn');
            const status = document.getElementById('status');
            
            btn.innerHTML = "A enviar...";
            btn.classList.add('loading');
            status.classList.add('hidden');

            // Chamada à função processForm no ficheiro Code.gs
            google.script.run
                .withSuccessHandler(response => {
                    status.innerHTML = response;
                    status.className = "mb-8 p-4 rounded-xl bg-green-900/30 text-green-400 border border-green-800 block";
                    form.reset();
                    btn.innerHTML = "Enviar para a Turma <i data-lucide='send' class='w-5 h-5'></i>";
                    btn.classList.remove('loading');
                    lucide.createIcons();
                })
                .withFailureHandler(err => {
                    status.innerHTML = "Erro: " + err;
                    status.className = "mb-8 p-4 rounded-xl bg-red-900/30 text-red-400 border border-red-800 block";
                    btn.innerHTML = "Tentar Novamente";
                    btn.classList.remove('loading');
                })
                .processForm(form);
        }
    </script>
</body>
</html>
